<mat-toolbar class="align-between">
  <div class="d-flex">
    <a class="header-item pr-3 align-self-center text-decoration-none hyperlink" style="color: #e53935;" [routerLink]="['/']">
      <img src="{{ assetsUrl + 'images/logo.svg' }}" class="logo pr-2" alt="{{ 'bbv Pantry' }}" />
      Pantry
    </a>
    <button *ngIf="isLogged && authService.isAdmin" mat-icon-button aria-label="Settings" [matMenuTriggerFor]="spaces">
      <mat-icon>apps</mat-icon>
    </button>
    <div *ngIf="isLogged && !authService.isAdmin">
      <button mat-raised-button aria-label="Settings" color="primary" (click)="goToUser()" class="mx-2">
        Order
      </button>
      <button mat-raised-button aria-label="Settings" color="primary" (click)="goToUserHistory()" class="mx-2">
        History
      </button>
    </div>
    <mat-menu #spaces="matMenu">
      <button mat-menu-item *ngIf="authService.isAdmin" (click)="goToAdmin()"
        [matMenuTriggerFor]="adminSection">Admin</button>
      <button mat-menu-item [matMenuTriggerFor]="userSection">User</button>
    </mat-menu>
    <mat-menu #adminSection="matMenu">
      <button mat-menu-item *ngIf="authService.isAdmin" (click)="goToRestaurant()">Restaurant</button>
      <button mat-menu-item *ngIf="authService.isAdmin" (click)="goToMenu()">Menu</button>
      <button mat-menu-item *ngIf="authService.isAdmin" (click)="goToBooking()">Booking</button>
      <button mat-menu-item *ngIf="authService.isAdmin" (click)="goToOrder()">Order</button>
      <button mat-menu-item *ngIf="authService.isAdmin" (click)="goToUserManagement()">User Management</button>
    </mat-menu>
    <mat-menu #userSection="matMenu">
      <button mat-menu-item (click)="goToUser()">Order</button>
      <button mat-menu-item (click)="goToUserHistory()">History</button>
    </mat-menu>
  </div>
  <span class="spacer"></span>
  <p *ngIf="loggedUser" class="m-0 px-3">
    {{ loggedUser.displayName ? loggedUser.displayName + ' - ' : '(empty) - ' }}{{ loggedUser.email }}
  </p>
  <button *ngIf="isLogged" mat-raised-button color="accent" (click)="logOut()">Logout</button>
</mat-toolbar>

<div class="container-fluid">
  <router-outlet></router-outlet>
</div>

<app-notification></app-notification>

<div *ngIf="isLoading" class="background">
  <mat-spinner class="spinner" strokeWidth="5" [diameter]="60"></mat-spinner>
</div>